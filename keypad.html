<!DOCTYPE html>
<html>
<head>
    <script src="http://code.createjs.com/easeljs-0.6.0.min.js"></script>
    <script>
        (function() {
            var Actor = function(color) {
                this.initialize(color);
            }

            var p = Actor.prototype = new createjs.Container();

            p.pixelsPerSecond = 100;

            p.Container_initialize = p.initialize;
            p.initialize = function(color) {
                this.Container_initialize();

                var width = 50;
                var height = 50;

                this.background = new createjs.Shape();
                this.background.graphics.beginFill(color).drawRoundRect(0,0,width,height, 10);

                this.addChild(this.background);
            }

            p.movementCalculation = function(delta) {
            	return (delta)/1000*p.pixelsPerSecond;
            }

            p.moveUp = function(delta) {
            	this.y -= this.movementCalculation(delta);
            }

            p.moveDown = function(delta) {
            	this.y += this.movementCalculation(delta);
            }

            p.moveLeft = function(delta) {
            	this.x -= this.movementCalculation(delta);
            }

            p.moveRight = function(delta) {
            	this.x += this.movementCalculation(delta);
            }

            window.Actor = Actor;
        }());
    </script>
    <script>
        function init() {
            var stage = new createjs.Stage("demoCanvas");

            var myActor = stage.addChild(new Actor("#000"));
            myActor.x = 100;
            myActor.y = 100;

            var up = false;
            var down = false;
            var left = false;
            var right = false;

            createjs.Ticker.setFPS(30);

            createjs.Ticker.addEventListener("tick", stage);
            createjs.Ticker.addEventListener("tick", tick);

            document.onkeydown = handleKeyDown;
            document.onkeyup = handleKeyUp;

            function handleKeyDown (event) {
                if (!event) {
                    var event = window.event;
                }
                console.log("press " + event.keyCode);
                switch(event.keyCode) {
                    case 38:
                    case 87: up = true; break;
                    case 37:
                    case 65: left = true; break;
                    case 40:
                    case 83: down = true; break;
                    case 39:
                    case 68: right = true; break;
                }
            }

            function handleKeyUp (event) {
                if (!event) {
                    var event = window.event;
                }
                console.log("release " + event.keyCode);
                switch(event.keyCode) {
                    case 38:
                    case 87: up = false; break;
                    case 37:
                    case 65: left = false; break;
                    case 40:
                    case 83: down = false; break;
                    case 39:
                    case 68: right = false; break;
                }
            }

            function tick(event) {
                if (up) {
                    myActor.moveUp(event.delta);
                }
                if (down) {
                    myActor.moveDown(event.delta);
                }
                if (left) {
                    myActor.moveLeft(event.delta);
                }
                if (right) {
                    myActor.moveRight(event.delta);
                }
            }
        }
    </script>
</head>
<body onLoad="init();">
    <canvas id="demoCanvas" width="500" height="300">
        alternate content
    </canvas>
</body>
</html>